[Tests]
  issues = '#26470'
  design = Capabilities.md
  [not_supported_registered]
    type = RunApp
    input = input.i
    chaco = false
    cli_args = '--required-capabilities chaco'
    expect_out = 'CAPABILITIES_MISMATCH_BEGIN\nchaco not supported\nCAPABILITIES_MISMATCH_END'
    requirement = 'The system shall not start a simulation if a requested capability is registered as false.'
  []
  [negative_not_supported_registered]
    type = RunApp
    input = input.i
    chaco = false
    cli_args = '--required-capabilities !chaco'
    expect_out = 'Solve Converged!'
    requirement = 'The system shall start a simulation if a capability requested to not be present is registered as false.'
  []
  [false_compare_registered]
    type = RunApp
    input = input.i
    chaco = false
    cli_args = '--required-capabilities chaco>10'
    expect_out = 'CAPABILITIES_MISMATCH_BEGIN\nchaco not supported\nCAPABILITIES_MISMATCH_END'
    requirement = 'The system shall not start a simulation if a requested capability is not registered.'
  []
  [negative_false_compare_registered]
    type = RunApp
    input = input.i
    chaco = false
    cli_args = '--required-capabilities !chaco>10'
    expect_out = 'Solve Converged!'
    requirement = 'The system shall start a simulation if a capability in a negate comparison is not registered.'
  []
  [not_supported_not_registered]
    type = RunApp
    input = input.i
    cli_args = '--required-capabilities doesnotexist'
    expect_out = 'CAPABILITIES_MISMATCH_BEGIN\ndoesnotexist not supported\nCAPABILITIES_MISMATCH_END'
    requirement = 'The system shall not start a simulation if a requested capability is not supported.'
  []
  [negative_not_supported_not_registered]
    type = RunApp
    input = input.i
    cli_args = '--required-capabilities !doesnotexist'
    expect_out = 'Solve Converged!'
    requirement = 'The system shall start a simulation if a capability requested to not be present is not registered.'
  []
  [not_absent]
    type = RunApp
    input = input.i
    cli_args = '--required-capabilities !petsc'
    expect_out = 'CAPABILITIES_MISMATCH_BEGIN\npetsc supported\nCAPABILITIES_MISMATCH_END'
    requirement = 'The system shall not start a simulation if an excluded capability is supported.'
  []
  [supported]
    type = RunApp
    input = input.i
    cli_args = '--required-capabilities petsc'
    expect_out = 'Solve Converged!'
    requirement = 'The system shall start a simulation if a requested capability is supported.'
  []
  [version_mismatch]
    type = RunApp
    input = input.i
    cli_args = "--required-capabilities petsc<1.0.3"
    expect_out = 'CAPABILITIES_MISMATCH_BEGIN\npetsc<1.0.3 version not matched\nCAPABILITIES_MISMATCH_END'
    requirement = 'The system shall not start a simulation if a requested capability has the wrong version.'
  []
  [negative_version_mismatch]
    type = RunApp
    input = input.i
    cli_args = "--required-capabilities !petsc<1.0.3"
    expect_out = 'Solve Converged!'
    requirement = 'The system shall start a simulation if a requested capability does not have the wrong version.'
  []
  [negative_nonexisting_comparison]
    type = RunApp
    input = input.i
    cli_args = "--required-capabilities !doesnotexist<1.0.3"
    expect_out = 'Solve Converged!'
    requirement = 'The system shall start a simulation if a negated test involves a capability that is not registered.'
  []
[]
